# Streamlit Cloud éƒ¨ç½²æŒ‡å—

## ç¯å¢ƒæ£€æŸ¥ç»“æœ âœ…

æœ¬åœ°ç¯å¢ƒæµ‹è¯•å®Œæˆï¼Œæ‰€æœ‰ä¾èµ–åŒ…æ­£å¸¸å·¥ä½œï¼š
- Python: 3.12.7
- Streamlit: 1.45.1
- Pandas: 2.2.2
- NumPy: 1.26.4
- Matplotlib: 3.9.2
- Seaborn: 0.13.2
- PyTorch: 2.6.0+cpu
- TorchVision: 0.21.0+cpu
- Scikit-learn: 1.5.1
- H5py: 3.11.0
- OpenCV: 4.11.0 (å¯é€‰)
- Librosa: 0.11.0 (å¯é€‰)

## éƒ¨ç½²æ­¥éª¤

### 1. å‡†å¤‡æ–‡ä»¶
ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨äºé¡¹ç›®æ ¹ç›®å½•ï¼š
- `streamlit_app.py` - ä¸»åº”ç”¨æ–‡ä»¶ âœ…
- `requirements_streamlit_cloud.txt` - Streamlit Cloudä¸“ç”¨ä¾èµ– âœ…
- `packages.txt` - ç³»ç»Ÿä¾èµ– âœ…
- `models/best_vlog_model.pth` - è®­ç»ƒå¥½çš„æ¨¡å‹ âœ…
- `extracted_features/` - ç‰¹å¾æ–‡ä»¶ç›®å½• âœ…

### 2. ä¸Šä¼ åˆ°GitHub
```bash
git init
git add .
git commit -m "Initial commit: Vlog BGMåˆ†æå·¥å…·"
git remote add origin https://github.com/æ‚¨çš„ç”¨æˆ·å/æ‚¨çš„ä»“åº“å.git
git push -u origin main
```

### 3. åœ¨Streamlit Cloudéƒ¨ç½²
1. è®¿é—® [share.streamlit.io](https://share.streamlit.io)
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. ç‚¹å‡» "New app"
4. é€‰æ‹©æ‚¨çš„ä»“åº“
5. è®¾ç½®ä¸»æ–‡ä»¶è·¯å¾„ä¸º `streamlit_app.py`
6. **é‡è¦**: å°†requirementsæ–‡ä»¶è®¾ç½®ä¸º `requirements_streamlit_cloud.txt`
7. ç‚¹å‡» "Deploy"

## å…³é”®ä¿®å¤ âœ…

### 1. å¯¼å…¥é”™è¯¯å¤„ç†
- æ·»åŠ äº† `cv2` å’Œ `librosa` çš„å¯¼å…¥é”™è¯¯å¤„ç†
- å½“è¿™äº›åº“ä¸å¯ç”¨æ—¶ï¼Œä½¿ç”¨åŸºäºæ–‡ä»¶åçš„ç¡®å®šæ€§ç‰¹å¾æå–
- åº”ç”¨ä¼šè‡ªåŠ¨æ£€æµ‹åº“çš„å¯ç”¨æ€§

### 2. ä¾èµ–å…¼å®¹æ€§
- åˆ›å»ºäº†ä¸“é—¨çš„ `requirements_streamlit_cloud.txt`
- ç§»é™¤äº†å¯èƒ½å¯¼è‡´é—®é¢˜çš„ `opencv-python` å’Œ `librosa`
- ä½¿ç”¨å›ºå®šç‰ˆæœ¬å·ç¡®ä¿å…¼å®¹æ€§

### 3. ç‰¹å¾æå–ä¼˜åŒ–
- è§†é¢‘ç‰¹å¾æå–ï¼šä¼˜å…ˆä½¿ç”¨H5æ–‡ä»¶ï¼Œå…¶æ¬¡ä½¿ç”¨cv2ï¼Œæœ€åä½¿ç”¨ç¡®å®šæ€§ç‰¹å¾
- éŸ³é¢‘ç‰¹å¾æå–ï¼šä¼˜å…ˆä½¿ç”¨H5æ–‡ä»¶ï¼Œå…¶æ¬¡ä½¿ç”¨librosaï¼Œæœ€åä½¿ç”¨ç¡®å®šæ€§ç‰¹å¾

## æ³¨æ„äº‹é¡¹

### æ–‡ä»¶å¤§å°é™åˆ¶
- Streamlit Cloudæœ‰æ–‡ä»¶å¤§å°é™åˆ¶
- å¦‚æœæ¨¡å‹æ–‡ä»¶è¿‡å¤§ï¼Œè€ƒè™‘ä½¿ç”¨Git LFSï¼š
```bash
git lfs install
git lfs track "*.pth"
git lfs track "*.h5"
git add .gitattributes
```

### ä¾èµ–å…¼å®¹æ€§
- å·²ç§»é™¤ `opencv-python` å’Œ `librosa` ä»¥é¿å…å…¼å®¹æ€§é—®é¢˜
- åº”ç”¨ä¼šè‡ªåŠ¨æ£€æµ‹è¿™äº›åº“çš„å¯ç”¨æ€§
- å¦‚æœåº“ä¸å¯ç”¨ï¼Œä¼šä½¿ç”¨åŸºäºæ–‡ä»¶åçš„ç¡®å®šæ€§ç‰¹å¾æå–

### ç¯å¢ƒå˜é‡
åº”ç”¨ä¼šè‡ªåŠ¨è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `KMP_DUPLICATE_LIB_OK=TRUE`
- `OMP_NUM_THREADS=1`

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯
1. **ImportError**: ä½¿ç”¨ `requirements_streamlit_cloud.txt` è€Œä¸æ˜¯ `requirements.txt`
2. **æ–‡ä»¶æ‰¾ä¸åˆ°**: ç¡®ä¿æ‰€æœ‰å¿…è¦æ–‡ä»¶éƒ½å·²ä¸Šä¼ åˆ°GitHub
3. **å†…å­˜ä¸è¶³**: è€ƒè™‘ä¼˜åŒ–æ¨¡å‹å¤§å°æˆ–ä½¿ç”¨å¤–éƒ¨å­˜å‚¨

### è°ƒè¯•æŠ€å·§
- æŸ¥çœ‹Streamlit Cloudçš„æ—¥å¿—
- åœ¨æœ¬åœ°æµ‹è¯•åº”ç”¨ï¼š`streamlit run streamlit_app.py`
- è¿è¡Œ `python test_imports.py` æ£€æŸ¥ä¾èµ–

## åŠŸèƒ½è¯´æ˜

### ä¸»è¦åŠŸèƒ½
- ğŸ¬ å•ä¸ªBGMåˆ†æ
- ğŸµ å¤šBGMæ‰¹é‡åˆ†æ
- ğŸ“Š åŒ¹é…åº¦å¯è§†åŒ–
- ğŸ’¡ æ™ºèƒ½æ¨èå»ºè®®
- ğŸ§  å¤šä»»åŠ¡æƒ…æ„Ÿåˆ†æ

### åˆ†æç»´åº¦
- è§†é¢‘æƒ…æ„Ÿè¯†åˆ«
- BGMæƒ…æ„Ÿè¯†åˆ«
- åŒ¹é…åº¦é¢„æµ‹
- æƒ…æ„Ÿä¸€è‡´æ€§åˆ†æ

## æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ä½¿ç”¨ `requirements_streamlit_cloud.txt` ä½œä¸ºä¾èµ–æ–‡ä»¶
2. æ‰€æœ‰æ–‡ä»¶æ˜¯å¦å®Œæ•´ä¸Šä¼ 
3. æ¨¡å‹æ–‡ä»¶æ˜¯å¦å¯è®¿é—®
4. Streamlit Cloudæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯ 